"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[776],{3776:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var r=t(2791),a=t(5861),s=t(4687),c=t.n(s),i=t(5485),u=t(6151),o=t(9434),l=t(3634),d=t(5206),m=t(6916),h=function(e){return e.contacts.status},p=function(e){return e.contacts.contacts},f=function(e){return e.filter},x=(0,m.P1)([f,p],(function(e,n){return""===e.trim()?n:n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())}))})),v=t(184);function b(){var e=(0,o.v9)(p),n=(0,o.I0)(),t=function(){var t=(0,a.Z)(c().mark((function t(r){var a,s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),a=r.currentTarget.elements.name.value,s=r.currentTarget.elements.number.value,void 0===e.find((function(e){return e.name===a}))){t.next=7;break}return d.Am.error("This contact is already exist."),t.abrupt("return");case 7:return t.prev=7,t.next=10,n((0,l.vB)({name:a,number:s})).unwrap();case 10:d.Am.success("The contact was successfully added!"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(7),d.Am.error("Ooops.....Something went wrong");case 16:r.target.reset();case 17:case"end":return t.stop()}}),t,null,[[7,13]])})));return function(e){return t.apply(this,arguments)}}();return(0,v.jsxs)("form",{onSubmit:t,children:[(0,v.jsx)(i.Z,{fullWidth:!0,label:"Name",variant:"standard",type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,v.jsx)(i.Z,{fullWidth:!0,label:"Email",variant:"standard",type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,v.jsx)(u.Z,{style:{width:"200px",margin:"20px auto 0 auto",display:"block"},type:"submit",variant:"contained",children:"Add contact"})]})}var j=t(1413),g=t(4746),w=t(7689),Z=t(4852),y=t(4233),k=t(7924),A=t(7247),C=t(3400);function T(e){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(Z.ZP,{children:[(0,v.jsx)(y.Z,{primary:"".concat(e.contact.name)}),(0,v.jsx)(y.Z,{primary:"".concat(e.contact.number)}),(0,v.jsx)(C.Z,{onClick:e.handleDelete,"aria-label":"delete",children:(0,v.jsx)(A.Z,{})})]}),(0,v.jsx)(k.Z,{})]})}var F=t(3239),P=t(493);function z(){var e=(0,o.v9)(g.Qb),n=(0,o.I0)(),t=(0,o.v9)(h),s=(0,o.v9)(p),i=(0,o.v9)(x),u=function(){var e=(0,a.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n((0,l.yD)(t)).unwrap();case 3:d.Am.success("The contact was deleted"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),d.Am.error("Ooops.....Something went wrong");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){e&&n((0,l.mb)())}),[n,e]),(0,v.jsxs)(v.Fragment,{children:["pending"===t&&(0,v.jsx)(F.Z,{style:{margin:"10px auto 10px auto",width:"50px",display:"block"}}),"resolved"===t&&null!==s&&(0,v.jsx)(P.Z,{children:i.map((function(e){return(0,v.jsx)(T,{contact:e,handleDelete:function(){u(e.id)}},e.id)}))})]})}var D=t(1634);function _(){var e=(0,o.v9)(f),n=(0,o.I0)();return(0,v.jsx)("div",{className:"contacts-finder",children:(0,v.jsx)(i.Z,{fullWidth:!0,label:"Find contacts by name",variant:"standard",name:"filter",type:"text",value:e,onChange:function(e){n((0,D.T)(e.target.value))}})})}var I,N=t(168),S=t(7691).ZP.div(I||(I=(0,N.Z)(["\n& h1{\n    text-align: center;\n}\nmax-width:500px ;\n margin-left:auto;\n margin-right: auto;\n\n"])));var W,q,B=(W=function(){return(0,v.jsx)("main",{children:(0,v.jsxs)(S,{children:[(0,v.jsx)("h1",{children:"Phonebook"}),(0,v.jsx)(b,{}),(0,v.jsx)("h2",{children:"Contacts"}),(0,v.jsx)(_,{}),(0,v.jsx)(z,{})]})})},q="/login",function(e){return(0,o.v9)(g.Qb)?(0,v.jsx)(W,(0,j.Z)({},e)):(0,v.jsx)(w.Fg,{to:q})})}}]);
//# sourceMappingURL=776.c8ec4c86.chunk.js.map