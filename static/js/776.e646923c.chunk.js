"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[776],{3776:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var r=t(2791),a=t(5861),c=t(4687),s=t.n(c),u=t(5485),i=t(6151),o=t(9434),l=t(3634),d=t(5206),p=t(6916),f=function(e){return e.contacts.status},m=function(e){return e.contacts.contacts},h=function(e){return e.filter},x=(0,p.P1)([h,m],(function(e,n){return""===e.trim()?n:n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())}))})),v=t(184);function j(){var e=(0,o.v9)(m),n=(0,r.useRef)(),t=(0,r.useRef)(),c=(0,o.I0)(),p=function(){var r=(0,a.Z)(s().mark((function r(a){var u,i;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.preventDefault(),u=n.current.querySelector("input").value,i=t.current.querySelector("input").value,void 0===e.find((function(e){return e.name===u}))){r.next=7;break}return d.Am.error("This contact is already exist."),r.abrupt("return");case 7:return r.prev=7,r.next=10,c((0,l.vB)({name:u,number:i})).unwrap();case 10:d.Am.success("The contact was successfully added!"),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(7),d.Am.error("Ooops.....Something went wrong");case 16:f();case 17:case"end":return r.stop()}}),r,null,[[7,13]])})));return function(e){return r.apply(this,arguments)}}(),f=function(){n.current.querySelector("input").value="",t.current.querySelector("input").value=""};return(0,v.jsxs)("form",{onSubmit:p,children:[(0,v.jsx)(u.Z,{fullWidth:!0,label:"Name",variant:"standard",ref:n,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,v.jsx)(u.Z,{fullWidth:!0,label:"Email",variant:"standard",ref:t,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,v.jsx)(i.Z,{style:{width:"200px",margin:"20px auto 0 auto",display:"block"},type:"submit",variant:"contained",children:"Add contact"})]})}var b=t(1413),w=t(4746),y=t(7689),Z=t(4852),g=t(4233),k=t(7924),A=t(7247),C=t(3400);function S(e){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(Z.ZP,{children:[(0,v.jsx)(g.Z,{primary:"".concat(e.contact.name)}),(0,v.jsx)(g.Z,{primary:"".concat(e.contact.number)}),(0,v.jsx)(C.Z,{onClick:e.handleDelete,"aria-label":"delete",children:(0,v.jsx)(A.Z,{})})]}),(0,v.jsx)(k.Z,{})]})}var q=t(3239),F=t(493);function P(){var e=(0,o.v9)(w.Qb),n=(0,o.I0)(),t=(0,o.v9)(f),c=(0,o.v9)(m),u=(0,o.v9)(x),i=function(){var e=(0,a.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n((0,l.yD)(t)).unwrap();case 3:d.Am.success("The contact was deleted"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),d.Am.error("Ooops.....Something went wrong");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){e&&n((0,l.mb)())}),[n,e]),(0,v.jsxs)(v.Fragment,{children:["pending"===t&&(0,v.jsx)(q.Z,{style:{margin:"10px auto 10px auto",width:"50px",display:"block"}}),"resolved"===t&&null!==c&&(0,v.jsx)(F.Z,{children:u.map((function(e){return(0,v.jsx)(S,{contact:e,handleDelete:function(){i(e.id)}},e.id)}))})]})}var z=t(1634);function D(){var e=(0,o.v9)(h),n=(0,o.I0)();return(0,v.jsx)("div",{className:"contacts-finder",children:(0,v.jsx)(u.Z,{fullWidth:!0,label:"Find contacts by name",variant:"standard",name:"filter",type:"text",value:e,onChange:function(e){n((0,z.T)(e.target.value))}})})}var T,_=t(168),I=t(7691).ZP.div(T||(T=(0,_.Z)(["\n& h1{\n    text-align: center;\n}\nmax-width:500px ;\n margin-left:auto;\n margin-right: auto;\n\n"])));var N,W,B=(N=function(){return(0,v.jsx)("main",{children:(0,v.jsxs)(I,{children:[(0,v.jsx)("h1",{children:"Phonebook"}),(0,v.jsx)(j,{}),(0,v.jsx)("h2",{children:"Contacts"}),(0,v.jsx)(D,{}),(0,v.jsx)(P,{})]})})},W="/login",function(e){return(0,o.v9)(w.Qb)?(0,v.jsx)(N,(0,b.Z)({},e)):(0,v.jsx)(y.Fg,{to:W})})}}]);
//# sourceMappingURL=776.e646923c.chunk.js.map